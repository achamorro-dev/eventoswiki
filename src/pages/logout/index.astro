---
import { createInvalidateSessionCommand } from '@/authentication/di/authentication.container'
import { Urls } from '@/shared/presentation/ui/urls/urls'

if (Astro.locals.session === null) {
  return Astro.redirect(Urls.HOME)
}

const command = createInvalidateSessionCommand(Astro.cookies)
await command.execute({ sessionId: Astro.locals.session.id })

return Astro.redirect(Urls.HOME)
---
