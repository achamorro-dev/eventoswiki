---
import { GetNextMeetupsQuery } from '@/meetups/application/get-next-meetups.query'
import { MeetupsContainer } from '@/meetups/di/meetups.container'
import EventsSlider from '@/ui/components/events-slider/events-slider.astro'
import { Urls } from '@/ui/urls/urls'

interface Props {
  locationId?: string
  locationName?: string
}

const { locationId, locationName } = Astro.props
const { data: nextMeetups } = await MeetupsContainer.get(GetNextMeetupsQuery).execute({ count: 10, location: locationId })
---

<EventsSlider
  title={'PrÃ³ximos meetups' + (locationName ? ` en ${locationName}` : '')}
  seeMoreLink={Urls.MEETUPS}
  goToEvent={Urls.MEETUP}
  events={nextMeetups}
/>
