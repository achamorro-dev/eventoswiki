---
import { OrganizationsLocator } from '@/organizations/di/organizations.locator'
import { MyOrganizationTabs } from '../../components/my-organization-tabs/my-organization-tabs'

interface Props {
  userId: string
}

const { userId } = Astro.props

const userOrganizations = await OrganizationsLocator.getUserOrganizationsQuery().execute({ userId })
const organizations = userOrganizations.map(o => o.toPrimitives())
---

<MyOrganizationTabs client:idle userOrganizations={organizations} />
