---
import { OrganizationsLocator } from '@/organizations/di/organizations.locator'
import { OrganizationTabs } from '../../components/organization-tabs/organization-tabs'

interface Props {
  userId: string
}

const { userId } = Astro.props

const userOrganizations = await OrganizationsLocator.getUserOrganizationsQuery().execute({ userId })
const organizations = userOrganizations.map(o => o.toPrimitives())
---

<OrganizationTabs client:idle userOrganizations={organizations} />
