---
import { ProvincesContainer } from '@/provinces/di/provinces.container'
import { SectionTitle } from '@/ui/components/section-title/section-title'
import { OrganizationEditForm } from '../../components/organization-edit-form/organization-edit-form'
import { GetProvincesQuery } from '@/provinces/application/get-provinces.query'

// no props required; page checks Astro.locals.user for access control
const getProvincesQuery = ProvincesContainer.get(GetProvincesQuery)
const provinces = await getProvincesQuery.execute()
---

<article>
  <SectionTitle>Crear Organizaci√≥n</SectionTitle>
  <OrganizationEditForm client:only="react" provinces={provinces} />
</article>
