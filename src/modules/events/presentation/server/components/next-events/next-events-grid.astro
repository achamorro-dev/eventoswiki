---
import { EventsContainer } from '@/events/di/events.container'
import { GetNextEventsQuery } from '@/events/application/get-next-events.query'
import EventsGrid from '@/ui/components/events-grid/events-grid.astro'
import { Urls } from '@/ui/urls/urls'

interface Props {
  location?: string
  page: number
}

const { location, page } = Astro.props
const { data: nextEvents, totalPages } = await EventsContainer.get(GetNextEventsQuery).execute({ count: 12, page, location })
---

<EventsGrid events={nextEvents} page={page} totalPages={totalPages} goToEvent={Urls.EVENT}>
  <slot />
</EventsGrid>
