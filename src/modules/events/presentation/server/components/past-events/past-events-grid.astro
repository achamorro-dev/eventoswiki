---
import { EventsContainer } from '@/events/di/events.container'
import { GetPastEventsQuery } from '@/events/application/get-past-events.query'
import EventsGrid from '@/ui/components/events-grid/events-grid.astro'
import { Urls } from '@/ui/urls/urls'

interface Props {
  location?: string
  page: number
}

const { location, page } = Astro.props
const { data: pastEvents, totalPages } = await EventsContainer.get(GetPastEventsQuery).execute({ count: 12, page, location })
---

<EventsGrid events={pastEvents} page={page} totalPages={totalPages} goToEvent={Urls.EVENT} />
