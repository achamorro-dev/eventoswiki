---
import { cn } from '@/ui/lib/utils'
import { Urls } from '@/ui/urls/urls'
import { Link } from '../link'

const pathname = Astro.url.pathname

const urlSections = {
  EVENTS: Urls.EVENTS.slice(0, -1),
  MEETUPS: Urls.MEETUPS.slice(0, -1),
  CALENDAR: Urls.CALENDAR.slice(0, -1),
}
---

<nav class="mobile-menu">
  <ul class="menu-list">
    <li>
      <Link
        variant={'link'}
        className={cn('mobile-link', { 'mobile-link-active': pathname.startsWith(urlSections.EVENTS) })}
        href={Urls.EVENTS}
      >
        Eventos
      </Link>
    </li>
    <li>
      <Link
        variant={'link'}
        className={cn('mobile-link', { 'mobile-link-active': pathname.startsWith(urlSections.MEETUPS) })}
        href={Urls.MEETUPS}
      >
        Meetups
      </Link>
    </li>
    <li>
      <Link
        variant={'link'}
        className={cn('mobile-link', { 'mobile-link-active': pathname.startsWith(urlSections.CALENDAR) })}
        href={Urls.CALENDAR}
      >
        Calendario
      </Link>
    </li>
  </ul>
</nav>

<style>
  @reference "../../../../../../styles/global.css";

  .mobile-menu {
    @apply border-muted w-full border-b px-3 lg:hidden;
  }

  .menu-list {
    @apply flex list-none flex-row items-center justify-start gap-0 p-0;
  }

  .mobile-link {
    @apply text-muted-foreground hover:text-primary px-2 font-medium no-underline;
  }

  .mobile-link-active {
    @apply text-primary;
  }
</style>
